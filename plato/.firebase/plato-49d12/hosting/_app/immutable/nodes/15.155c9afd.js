import{s as J,p as K,f as h,a as w,g as v,h as C,O as T,c as D,d as _,j as k,i as I,N as d,L as U,_ as Q,E as W,l as Y,m as A,x as X}from"../chunks/scheduler.b03a764b.js";import{S as Z,i as ee,f as te,b as V,d as q,m as B,a as L,t as R,e as N}from"../chunks/index.f06d7b37.js";import{B as se}from"../chunks/Button.c6a8618e.js";import{L as ae,I as ne}from"../chunks/Input.9308ea45.js";import{a as le}from"../chunks/authStore.c6c9fc0e.js";import{g as oe}from"../chunks/navigation.5cceff9e.js";function ie(i){let e;return{c(){e=Y("Email address")},l(t){e=A(t,"Email address")},m(t,r){I(t,e,r)},d(t){t&&_(e)}}}function re(i){let e;return{c(){e=Y("Submit")},l(t){e=A(t,"Submit")},m(t,r){I(t,e,r)},d(t){t&&_(e)}}}function M(i){let e,t,r="Please check your email for a password reset link",p,l,c="Ok",u,m;return{c(){e=h("div"),t=h("p"),t.textContent=r,p=w(),l=h("button"),l.textContent=c,this.h()},l(n){e=v(n,"DIV",{class:!0});var a=C(e);t=v(a,"P",{"data-svelte-h":!0}),T(t)!=="svelte-1supnx3"&&(t.textContent=r),p=D(a),l=v(a,"BUTTON",{"data-svelte-h":!0}),T(l)!=="svelte-pdzjqs"&&(l.textContent=c),a.forEach(_),this.h()},h(){k(e,"class","confirmation-dialog svelte-iho3j3")},m(n,a){I(n,e,a),d(e,t),d(e,p),d(e,l),u||(m=U(l,"click",i[5]),u=!0)},p:X,d(n){n&&_(e),u=!1,m()}}}function fe(i){let e,t,r="Password Reset",p,l,c,u,m,n,a,x,O,E,$,P,j,S,z;m=new ae({props:{for:"email",class:"mb-2",$$slots:{default:[ie]},$$scope:{ctx:i}}});function G(s){i[4](s)}let F={type:"email",id:"email",placeholder:"first.last@company.com",required:!0};i[0].resetEmail!==void 0&&(F.value=i[0].resetEmail),a=new ne({props:F}),K.push(()=>te(a,"value",G)),$=new se({props:{type:"submit",color:"blue",$$slots:{default:[re]},$$scope:{ctx:i}}});let o=i[1]&&M(i);return{c(){e=h("body"),t=h("div"),t.textContent=r,p=w(),l=h("div"),c=h("form"),u=h("div"),V(m.$$.fragment),n=w(),V(a.$$.fragment),O=w(),E=h("div"),V($.$$.fragment),P=w(),o&&o.c(),this.h()},l(s){e=v(s,"BODY",{class:!0});var f=C(e);t=v(f,"DIV",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-cc3k4t"&&(t.textContent=r),p=D(f),l=v(f,"DIV",{class:!0});var y=C(l);c=v(y,"FORM",{});var g=C(c);u=v(g,"DIV",{class:!0});var b=C(u);q(m.$$.fragment,b),n=D(b),q(a.$$.fragment,b),b.forEach(_),O=D(g),E=v(g,"DIV",{class:!0});var H=C(E);q($.$$.fragment,H),H.forEach(_),g.forEach(_),y.forEach(_),P=D(f),o&&o.l(f),f.forEach(_),this.h()},h(){k(t,"class","title svelte-iho3j3"),k(u,"class","mb-6"),k(E,"class","centered-button svelte-iho3j3"),k(l,"class","form-container svelte-iho3j3"),k(e,"class","svelte-iho3j3")},m(s,f){I(s,e,f),d(e,t),d(e,p),d(e,l),d(l,c),d(c,u),B(m,u,null),d(u,n),B(a,u,null),d(c,O),d(c,E),B($,E,null),d(e,P),o&&o.m(e,null),j=!0,S||(z=U(c,"submit",Q(i[2])),S=!0)},p(s,[f]){const y={};f&64&&(y.$$scope={dirty:f,ctx:s}),m.$set(y);const g={};!x&&f&1&&(x=!0,g.value=s[0].resetEmail,W(()=>x=!1)),a.$set(g);const b={};f&64&&(b.$$scope={dirty:f,ctx:s}),$.$set(b),s[1]?o?o.p(s,f):(o=M(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(s){j||(L(m.$$.fragment,s),L(a.$$.fragment,s),L($.$$.fragment,s),j=!0)},o(s){R(m.$$.fragment,s),R(a.$$.fragment,s),R($.$$.fragment,s),j=!1},d(s){s&&_(e),N(m),N(a),N($),o&&o.d(),S=!1,z()}}}function ce(i,e,t){let r={resetEmail:""},p=!1;async function l(){const{resetEmail:n}=r;if(n)try{await le.forgotPasswordReset(n),t(1,p=!0)}catch(a){console.log(a)}}function c(n){t(1,p=!1),n&&oe("/sign-in")}function u(n){i.$$.not_equal(r.resetEmail,n)&&(r.resetEmail=n,t(0,r))}return[r,p,l,c,u,()=>c(!0)]}class ve extends Z{constructor(e){super(),ee(this,e,ce,fe,J,{})}}export{ve as component};
