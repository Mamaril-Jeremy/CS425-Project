import{s as Ne,p as fe,f as b,a as k,g as w,h as q,O as J,c as E,d,j as D,i as O,N as o,L as me,_ as Se,E as ue,l as F,m as G,x as Pe,M as Ve}from"../chunks/scheduler.b03a764b.js";import{S as qe,i as Oe,f as ce,b as Y,d as j,m as z,a as H,t as Z,e as x}from"../chunks/index.f06d7b37.js";import{B as Be}from"../chunks/Button.c6a8618e.js";import{L as de,I as pe}from"../chunks/Input.9308ea45.js";import{a as Le}from"../chunks/authStore.c6c9fc0e.js";import{g as Te}from"../chunks/navigation.5cceff9e.js";function Ae(a){let e;return{c(){e=F("Email address")},l(t){e=G(t,"Email address")},m(t,l){O(t,e,l)},d(t){t&&d(e)}}}function Me(a){let e;return{c(){e=F("New password")},l(t){e=G(t,"New password")},m(t,l){O(t,e,l)},d(t){t&&d(e)}}}function Re(a){let e;return{c(){e=F("Confirm new password")},l(t){e=G(t,"Confirm new password")},m(t,l){O(t,e,l)},d(t){t&&d(e)}}}function we(a){let e,t="Passwords must match";return{c(){e=b("p"),e.textContent=t,this.h()},l(l){e=w(l,"P",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-100t2ls"&&(e.textContent=t),this.h()},h(){D(e,"class","text-red-500 mb-2")},m(l,i){O(l,e,i)},d(l){l&&d(e)}}}function Ce(a){let e,t,l,i;return{c(){e=b("p"),t=F("Password must be at least "),l=F(_e),i=F(" characters long"),this.h()},l(r){e=w(r,"P",{class:!0});var n=q(e);t=G(n,"Password must be at least "),l=G(n,_e),i=G(n," characters long"),n.forEach(d),this.h()},h(){D(e,"class","text-red-500 mb-2")},m(r,n){O(r,e,n),o(e,t),o(e,l),o(e,i)},p:Pe,d(r){r&&d(e)}}}function ke(a){let e,t="Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character";return{c(){e=b("p"),e.textContent=t,this.h()},l(l){e=w(l,"P",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1yh350d"&&(e.textContent=t),this.h()},h(){D(e,"class","text-red-500 mb-2")},m(l,i){O(l,e,i)},d(l){l&&d(e)}}}function Ue(a){let e;return{c(){e=F("Submit")},l(t){e=G(t,"Submit")},m(t,l){O(t,e,l)},d(t){t&&d(e)}}}function Ee(a){let e,t,l="Are you sure you want to change your password?",i,r,n="Yes",m,f,I="No",$,y;return{c(){e=b("div"),t=b("p"),t.textContent=l,i=k(),r=b("button"),r.textContent=n,m=k(),f=b("button"),f.textContent=I,this.h()},l(P){e=w(P,"DIV",{class:!0});var c=q(e);t=w(c,"P",{"data-svelte-h":!0}),J(t)!=="svelte-f5qwy1"&&(t.textContent=l),i=E(c),r=w(c,"BUTTON",{"data-svelte-h":!0}),J(r)!=="svelte-b24vvn"&&(r.textContent=n),m=E(c),f=w(c,"BUTTON",{"data-svelte-h":!0}),J(f)!=="svelte-1j9fdv8"&&(f.textContent=I),c.forEach(d),this.h()},h(){D(e,"class","confirmation-dialog svelte-19kiuuh")},m(P,c){O(P,e,c),o(e,t),o(e,i),o(e,r),o(e,m),o(e,f),$||(y=[me(r,"click",a[12]),me(f,"click",a[13])],$=!0)},p:Pe,d(P){P&&d(e),$=!1,Ve(y)}}}function Ye(a){let e,t,l="Update Your Password",i,r,n,m,f,I,$,y,P,c,N,K,S,X,C,B,L,le,V,ae,re,ee,te,se,W,T,oe,ne,ie,he;f=new de({props:{for:"email",class:"mb-2",$$slots:{default:[Ae]},$$scope:{ctx:a}}});function De(s){a[9](s)}let $e={type:"email",id:"email",placeholder:"first.last@company.com",required:!0};a[0]!==void 0&&($e.value=a[0]),$=new pe({props:$e}),fe.push(()=>ce($,"value",De)),N=new de({props:{for:"password",class:"mb-2",$$slots:{default:[Me]},$$scope:{ctx:a}}});function Ie(s){a[10](s)}let ve={type:"password",id:"password",placeholder:"•••••••••",required:!0};a[1]!==void 0&&(ve.value=a[1]),S=new pe({props:ve}),fe.push(()=>ce(S,"value",Ie)),L=new de({props:{for:"confirm_password",class:"mb-2",$$slots:{default:[Re]},$$scope:{ctx:a}}});function ye(s){a[11](s)}let ge={type:"password",id:"confirm_password",placeholder:"•••••••••",required:!0};a[2]!==void 0&&(ge.value=a[2]),V=new pe({props:ge}),fe.push(()=>ce(V,"value",ye));let v=a[4]&&we(),_=a[5]&&Ce(),g=a[6]&&ke();T=new Be({props:{type:"submit",color:"blue",$$slots:{default:[Ue]},$$scope:{ctx:a}}});let h=a[3]&&Ee(a);return{c(){e=b("body"),t=b("div"),t.textContent=l,i=k(),r=b("div"),n=b("form"),m=b("div"),Y(f.$$.fragment),I=k(),Y($.$$.fragment),P=k(),c=b("div"),Y(N.$$.fragment),K=k(),Y(S.$$.fragment),C=k(),B=b("div"),Y(L.$$.fragment),le=k(),Y(V.$$.fragment),re=k(),v&&v.c(),ee=k(),_&&_.c(),te=k(),g&&g.c(),se=k(),W=b("div"),Y(T.$$.fragment),oe=k(),h&&h.c(),this.h()},l(s){e=w(s,"BODY",{class:!0});var u=q(e);t=w(u,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-867p2o"&&(t.textContent=l),i=E(u),r=w(u,"DIV",{class:!0});var A=q(r);n=w(A,"FORM",{});var p=q(n);m=w(p,"DIV",{class:!0});var M=q(m);j(f.$$.fragment,M),I=E(M),j($.$$.fragment,M),M.forEach(d),P=E(p),c=w(p,"DIV",{class:!0});var R=q(c);j(N.$$.fragment,R),K=E(R),j(S.$$.fragment,R),R.forEach(d),C=E(p),B=w(p,"DIV",{class:!0});var U=q(B);j(L.$$.fragment,U),le=E(U),j(V.$$.fragment,U),U.forEach(d),re=E(p),v&&v.l(p),ee=E(p),_&&_.l(p),te=E(p),g&&g.l(p),se=E(p),W=w(p,"DIV",{class:!0});var Q=q(W);j(T.$$.fragment,Q),Q.forEach(d),p.forEach(d),oe=E(A),h&&h.l(A),A.forEach(d),u.forEach(d),this.h()},h(){D(t,"class","title svelte-19kiuuh"),D(m,"class","mb-6"),D(c,"class","mb-6"),D(B,"class","mb-6"),D(W,"class","centered-button svelte-19kiuuh"),D(r,"class","form-container svelte-19kiuuh"),D(e,"class","svelte-19kiuuh")},m(s,u){O(s,e,u),o(e,t),o(e,i),o(e,r),o(r,n),o(n,m),z(f,m,null),o(m,I),z($,m,null),o(n,P),o(n,c),z(N,c,null),o(c,K),z(S,c,null),o(n,C),o(n,B),z(L,B,null),o(B,le),z(V,B,null),o(n,re),v&&v.m(n,null),o(n,ee),_&&_.m(n,null),o(n,te),g&&g.m(n,null),o(n,se),o(n,W),z(T,W,null),o(r,oe),h&&h.m(r,null),ne=!0,ie||(he=me(n,"submit",Se(a[7])),ie=!0)},p(s,[u]){const A={};u&32768&&(A.$$scope={dirty:u,ctx:s}),f.$set(A);const p={};!y&&u&1&&(y=!0,p.value=s[0],ue(()=>y=!1)),$.$set(p);const M={};u&32768&&(M.$$scope={dirty:u,ctx:s}),N.$set(M);const R={};!X&&u&2&&(X=!0,R.value=s[1],ue(()=>X=!1)),S.$set(R);const U={};u&32768&&(U.$$scope={dirty:u,ctx:s}),L.$set(U);const Q={};!ae&&u&4&&(ae=!0,Q.value=s[2],ue(()=>ae=!1)),V.$set(Q),s[4]?v||(v=we(),v.c(),v.m(n,ee)):v&&(v.d(1),v=null),s[5]?_?_.p(s,u):(_=Ce(),_.c(),_.m(n,te)):_&&(_.d(1),_=null),s[6]?g||(g=ke(),g.c(),g.m(n,se)):g&&(g.d(1),g=null);const be={};u&32768&&(be.$$scope={dirty:u,ctx:s}),T.$set(be),s[3]?h?h.p(s,u):(h=Ee(s),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},i(s){ne||(H(f.$$.fragment,s),H($.$$.fragment,s),H(N.$$.fragment,s),H(S.$$.fragment,s),H(L.$$.fragment,s),H(V.$$.fragment,s),H(T.$$.fragment,s),ne=!0)},o(s){Z(f.$$.fragment,s),Z($.$$.fragment,s),Z(N.$$.fragment,s),Z(S.$$.fragment,s),Z(L.$$.fragment,s),Z(V.$$.fragment,s),Z(T.$$.fragment,s),ne=!1},d(s){s&&d(e),x(f),x($),x(N),x(S),x(L),x(V),v&&v.d(),_&&_.d(),g&&g.d(),x(T),h&&h.d(),ie=!1,he()}}}const _e=8;function je(a,e,t){let l,i,r,n=!1,m=!1,f=!1,I=!1;async function $(){!l||!i||!r||(t(4,m=!1),t(5,f=!1),t(6,I=!1),i===r?i.length>=_e?i.match(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)?t(3,n=!0):t(6,I=!0):t(5,f=!0):t(4,m=!0))}function y(C){t(3,n=!1),C&&P()}async function P(){try{await Le.updatePassword(i),Te("/home")}catch(C){console.log(C)}}function c(C){l=C,t(0,l)}function N(C){i=C,t(1,i)}function K(C){r=C,t(2,r)}return[l,i,r,n,m,f,I,$,y,c,N,K,()=>y(!0),()=>y(!1)]}class We extends qe{constructor(e){super(),Oe(this,e,je,Ye,Ne,{})}}export{We as component};
